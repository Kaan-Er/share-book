<!DOCTYPE html>
<html>
  <head>
    <title>BookShare</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= favicon_link_tag asset_path('favicon.ico') %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
  </head>

<body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
            <div class="container">
                <a class="navbar-brand js-scroll-trigger" href="/">Share Book</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto my-2 my-lg-0">
                        <% if current_user %>
                          <li class="nav-item active">
                            <a class="navbar-brand" href="/dashboard">Dashboard</a>
                          </li>
                        <% end %>
                        </ul> 
                        <ul class="navbar-nav justify-content-end ml-auto">
                        <li class="nav-item active">
                          <% if user_signed_in? %>
                            <a href="" class="navbar-brand"><%= link_to 'Profile', edit_user_registration_path, :class => 'navbar-brand' %></a>
                            <a href="" class="navbar-brand"><%= link_to "Logout", destroy_user_session_path, method: :delete, :class => 'navbar-brand' %></a>
                          <% else %>   
                            <a href="" class="navbar-brand" data-toggle="modal" data-target="#modalRegisterForm">Sign up</a> 
                            <a href="" class="navbar-brand" data-toggle="modal" data-target="#modalLoginForm">Login</a>
                          <% end %>
                        </li>
                        </ul>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <% if !current_user %>
        <header class="masthead">
            <div class="container h-100">
                <div class="row h-100 align-items-center justify-content-center text-center">
                    <div class="col-lg-10 align-self-end">
                        <h1 class=" text-white font-weight-bold">Welcome</h1>
                        <hr class="divider my-4" />
                    </div>
                    <div class="col-lg-8 align-self-baseline">
                        <p class="text-white-75 font-weight-light mb-5">You can share and trade your books with people.</p>
                        <a class="btn btn-primary btn-xl js-scroll-trigger" href="#about">Find out more!</a>
                    </div>
                </div>
            </div>
        </header>
        <% end %>
        <!-- About-->
        <section class="page-section bg-kamil" id="about">
            <div class="container">
                <%= yield %>
              </div>
            </div>
        </section>

        <!-- Call to login action -->
        <section class="page-section bg-dark text-white">
          <% if !current_user %>
            <div class="container text-center">
                <h2 class="mb-4">If you want to share and trade book please sign up or login!</h2>
                <a class="btn btn-light btn-xl m-3 text-primary" href="" data-toggle="modal" data-target="#modalRegisterForm">Sign up</a>
                <a class="btn btn-light btn-xl m-3 text-primary" href="" data-toggle="modal" data-target="#modalLoginForm">Login</a>
            </div>
          <% else %>
            <div class="container text-center">
                <h3 class="mb-4">Welcome, you can send a comment and exchange books with tradeable ones.</h3>
            </div>
          <% end %>


            <div id="carouselExampleControls" class="carousel slide w-50 mx-auto" data-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active w-100">
                   <%= image_tag("trade-book.png", :alt => "First slide", :class => "d-block mx-auto imgSettings", :style => "border-radius: 8px; width: 533px; height: 354px;") %>
                </div>
                <div class="carousel-item w-100">
                  <%= image_tag("trade.jpg", :alt => "Second slide", :class => "d-block mx-auto imgSettings", :style => "border-radius: 8px; width: 533px; height: 354px;") %>
                </div>
                <div class="carousel-item w-100">
                  <%= image_tag("images.jpg", :alt => "Third slide", :class => "d-block mx-auto imgSettings", :style => "border-radius: 8px; width: 533px; height: 354px;") %>
                </div>
              </div>
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
        </section>

        <!-- Contact-->
        <% if !current_user %>
          <section class="page-section" id="contact">
              <div class="container">
                  <div class="row justify-content-center">
                      <div class="col-lg-8 text-center">
                          <h2 class="mt-0 text-secondary"><a href="https://www.kodluyoruz.org/" class="text-decoration-none kodluyoruz">&#60&#47;kodluyoruz.org&#62;</a></h2>
                          <hr class="divider my-4" />
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-lg-3 ml-auto text-center mb-5 mb-lg-0">
                          <a href="https://github.com/Kaan-Er"><i class="fab fa-github fa-3x  text-muted"></i></a>
                      </div>
                      <div class="col-lg-3 mr-auto text-center">
                          <a class="d-block" href="mailto:kaanerdev@gmail.com"><i class="fas fa-envelope fa-3x mb-3 text-muted"></i></a> 
                      </div>
                      <div class="col-lg-3 mr-auto text-center">
                          <a class="d-block" href="https://twitter.com/kaaner_dev"><i class="fab fa-twitter fa-3x mb-3 text-muted"></i></a> 
                      </div>
                      <div class="col-lg-3 mr-auto text-center">
                          <a class="d-block" href="https://www.linkedin.com/in/kaan--er/"><i class="fab fa-linkedin fa-3x mb-3 text-muted"></i></a> 
                      </div>
                  </div>
              </div>
              
          </section>
        <% end %>
        <a id="back2Top" title="Back to Top" href="#">&#10148;</a>
        <!-- Footer-->
        <footer class="bg-light pb-5">
            <div class="small text-center text-muted font-weight-bold mt-4">Copyright Â© 2020 - Kaan Er</div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
        <!-- Core theme JS-->
        

  <div class="modal fade" id="modalRegisterForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="background-color:#f2f2f2;">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold text-secondary">Sign up</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
          <%= render "devise/shared/error_messages", resource: resource %>

          <div class="field m-3 text-secondary">
            <i class="fas fa-envelope"></i> <%= f.label :email , class:"text-secondary"%><br />
            <%= f.email_field :email, autofocus: true, autocomplete: "email",class:"form-control text-secondary" %>
          </div>

          <div class="field m-3 text-secondary">
            <i class="fas fa-unlock-alt"></i> <%= f.label :password, class:"text-secondary" %>
            <% if @minimum_password_length %>
            <em>(<%= @minimum_password_length %> characters minimum)</em>
            <% end %><br />
            <%= f.password_field :password, autocomplete: "new-password", class:"form-control text-secondary" %>
          </div>

          <div class="field m-3 text-secondary">
            <i class="fas fa-unlock-alt"></i> <%= f.label :password_confirmation, class:"text-secondary"%><br />
            <%= f.password_field :password_confirmation, autocomplete: "new-password",class:"form-control text-secondary" %>
          </div>

          <div class="actions mt-3">
            <%= f.submit "Sign up", class:"btn btn-lg btn-primary btn-block text-uppercase" %>
          </div>
         <% end %>
      </div>
      <div class="modal-footer d-flex justify-content-center">
      </div>
    </div>
  </div>
</div>

  <div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content" style="background-color:#f2f2f2;">
        <div class="modal-header text-center">
          <h4 class="modal-title w-100 font-weight-bold text-secondary">Login</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <div class="modal-body mx-3 text-secondary">
        <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
          <div class="field">
            <p><i class="fas fa-user"></i> <%= f.label :username, class:"text-secondary" %> or Email<br />
            <%= f.text_field :login,class:"form-control text-secondary"%></p>
          </div>

          <div class="field text-secondary">
            <i class="fas fa-unlock-alt"></i> <%= f.label :password, class:"text-secondary" %><br />
            <%= f.password_field :password, autocomplete: "current-password",class:"form-control text-secondary" %>
          </div>

          <% if devise_mapping.rememberable? %>
            <div class="field">
              <%= f.check_box :remember_me,class:"custom-control-input" %>
              <%= f.label :remember_me,class:"custom-control-label ml-4 mt-3 mb-5 text-secondary" %>
            </div>
          <% end %>
          <div class="actions">
            <%= f.submit "Log in", class:"btn btn-lg btn-primary btn-block text-uppercase" %>
            <hr class="my-4">
            <button class="btn btn-lg btn-danger btn-block text-uppercase" type="submit"><i class="fab fa-google mr-2"></i> Sign in with Google</button>
            <button class="btn btn-lg btn-info btn-block text-uppercase" type="submit"><i class="fab fa-facebook-f mr-2"></i> Sign in with Facebook</button>
          </div>
        <% end %>
      </div>
      <div class="modal-footer d-flex justify-content-center">
      </div>
     </div>
    </div>
  </div>

  <script>
    (function($) {
  "use strict"; // Start of use strict

  $('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function() {
    if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
      var target = $(this.hash);
      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
      if (target.length) {
        $('html, body').animate({
          scrollTop: (target.offset().top - 72)
        }, 1000, "easeInOutExpo");
        return false;
      }
    }
  });

  $('.js-scroll-trigger').click(function() {
    $('.navbar-collapse').collapse('hide');
  });

  $('body').scrollspy({
    target: '#mainNav',
    offset: 75
  });

  var navbarCollapse = function() {
    if ($("#mainNav").offset().top > 100) {
      $("#mainNav").addClass("navbar-scrolled");
    } else {
      $("#mainNav").removeClass("navbar-scrolled");
    }
  };
  navbarCollapse();
  $(window).scroll(navbarCollapse);

      $('#portfolio').magnificPopup({
        delegate: 'a',
        type: 'image',
        tLoading: 'Loading image #%curr%...',
        mainClass: 'mfp-img-mobile',
        gallery: {
          enabled: true,
          navigateByImgClick: true,
          preload: [0, 1]
        },
        image: {
          tError: '<a href="%url%">The image #%curr%</a> could not be loaded.'
        }
      });

    })(jQuery);

  </script>

  <script>
    $('.carousel').carousel({
      interval: 2500
    })
  </script>

  <script>
    $(window).scroll(function() {
      var height = $(window).scrollTop();
      if (height > 100) {
          $('#back2Top').fadeIn();
      } else {
          $('#back2Top').fadeOut();
      }
  });
  $(document).ready(function() {
      $("#back2Top").click(function(event) {
          event.preventDefault();
          $("html, body").animate({ scrollTop: 0 }, "slow");
          return false;
      });

  });
</script>

  </body>

</html>
